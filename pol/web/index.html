<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ó–∞–¥–∞—á–∏ –ø–æ –¥–Ω—è–º</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app">
    <h1 class="app-title">–ó–∞–¥–∞—á–∏ –ø–æ –¥–Ω—è–º</h1>
    <div class="sync-bar">
      <span class="sync-label">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:</span>
      <button type="button" class="btn btn-small btn-sync" id="btn-export">üì• –°–∫–∞—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
      <button type="button" class="btn btn-small btn-sync" id="btn-import">üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
      <span id="cloud-status" class="cloud-status"></span>
    </div>
    <input type="file" id="import-file-input" accept=".json,application/json" hidden>

    <div class="tabs">
      <button type="button" class="tab active" data-tab="tasks">üìã –ó–∞–¥–∞—á–∏</button>
      <button type="button" class="tab" data-tab="english">üá¨üáß –ê–Ω–≥–ª–∏–π—Å–∫–∏–π</button>
      <button type="button" class="tab" data-tab="prayer">‚úù –ú–æ–ª–∏—Ç–≤–∞</button>
    </div>

    <!-- –í–∫–ª–∞–¥–∫–∞ –ó–∞–¥–∞—á–∏ -->
    <div id="panel-tasks" class="panel active">
      <div class="game-block">
        <span id="level-text" class="game-level">‚≠ê –£—Ä–æ–≤–µ–Ω—å 1</span>
        <div class="xp-wrap">
          <progress id="xp-bar" value="0" max="50"></progress>
          <span id="xp-text" class="xp-label">0 / 50 XP</span>
        </div>
        <span id="streak-text" class="game-streak">üî• –°–µ—Ä–∏—è: 0 –¥–Ω.</span>
      </div>

      <div class="header-frame">
        <label for="date-picker" class="date-label">–ó–∞–¥–∞—á–∏ –Ω–∞:</label>
        <input type="date" id="date-picker" class="date-input">
        <span id="date-title" class="date-title"></span>
      </div>

      <div class="table-wrap">
        <table class="tasks-table">
          <thead>
            <tr>
              <th>‚úì</th>
              <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
              <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
              <th>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</th>
              <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
            </tr>
          </thead>
          <tbody id="tasks-tbody"></tbody>
        </table>
      </div>
      <button type="button" class="btn btn-add" id="btn-add-task">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</button>
    </div>

    <!-- –í–∫–ª–∞–¥–∫–∞ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π -->
    <div id="panel-english" class="panel">
      <div class="english-layout">
        <div class="english-left">
          <label class="block-label">–£—Ä–æ–≤–µ–Ω—å</label>
          <select id="english-level" class="select-level"></select>
          <label class="block-label">–£—Ä–æ–∫–∏ (1 ‚Äî 50)</label>
          <div id="english-lessons" class="lesson-list"></div>
        </div>
        <div class="english-right">
          <label class="block-label">–°–ª–æ–≤–∞ —É—Ä–æ–∫–∞</label>
          <div class="words-actions">
            <input type="text" id="word-input" placeholder="–°–ª–æ–≤–æ" class="input-word">
            <input type="text" id="trans-input" placeholder="–ü–µ—Ä–µ–≤–æ–¥" class="input-word">
            <button type="button" class="btn btn-small" id="btn-add-word">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
            <button type="button" class="btn btn-small btn-remove" id="btn-remove-word">–£–¥–∞–ª–∏—Ç—å</button>
          </div>
          <div class="table-wrap">
            <table class="words-table">
              <thead>
                <tr><th>–°–ª–æ–≤–æ</th><th>–ü–µ—Ä–µ–≤–æ–¥</th></tr>
              </thead>
              <tbody id="words-tbody"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- –í–∫–ª–∞–¥–∫–∞ –ú–æ–ª–∏—Ç–≤–∞ -->
    <div id="panel-prayer" class="panel">
      <div class="prayer-image-block">
        <div id="prayer-image-box" class="prayer-image-box">
          <span class="placeholder-text">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥–ª–∞–≤—ã (–≤—ã–±–µ—Ä–∏—Ç–µ –≥–ª–∞–≤—É –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ)</span>
        </div>
        <button type="button" class="btn" id="btn-add-prayer-image">üñº –î–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫ –≥–ª–∞–≤–µ</button>
      </div>
      <div class="prayer-layout">
        <div class="prayer-left">
          <label class="block-label">–ï–≤–∞–Ω–≥–µ–ª–∏–µ</label>
          <select id="prayer-gospel" class="select-level">
            <option value="16">–ï–≤–∞–Ω–≥–µ–ª–∏–µ –æ—Ç –ú–∞—Ä–∫–∞</option>
            <option value="28">–ï–≤–∞–Ω–≥–µ–ª–∏–µ –æ—Ç –ú–∞—Ç—Ñ–µ—è</option>
            <option value="24">–ï–≤–∞–Ω–≥–µ–ª–∏–µ –æ—Ç –õ—É–∫–∏</option>
            <option value="21">–ï–≤–∞–Ω–≥–µ–ª–∏–µ –æ—Ç –ò–æ–∞–Ω–Ω–∞</option>
          </select>
          <label class="block-label">–ì–ª–∞–≤—ã</label>
          <div id="prayer-chapters" class="lesson-list"></div>
        </div>
        <div class="prayer-right">
          <label class="block-label">–¢–µ–∫—Å—Ç –≥–ª–∞–≤—ã</label>
          <div id="prayer-text" class="prayer-text"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: –Ω–æ–≤–∞—è / —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ -->
  <div id="modal-task" class="modal">
    <div class="modal-content">
      <h2 id="modal-task-title">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</h2>
      <form id="form-task">
        <input type="hidden" id="task-id">
        <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
        <input type="text" id="task-title" required placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ">
        <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
        <textarea id="task-desc" rows="3" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ"></textarea>
        <label>–°—Ä–æ–∫</label>
        <input type="date" id="task-deadline">
        <label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
        <select id="task-priority">
          <option value="0">–ù–∏–∑–∫–∏–π</option>
          <option value="1" selected>–°—Ä–µ–¥–Ω–∏–π</option>
          <option value="2">–í—ã—Å–æ–∫–∏–π</option>
        </select>
        <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
        <input type="text" id="task-category" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–Ω–≥–ª–∏–π—Å–∫–∏–π, –ú–æ–ª–∏—Ç–≤–∞">
        <div class="modal-buttons">
          <button type="submit" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          <button type="button" class="btn btn-cancel" id="modal-cancel">–û—Ç–º–µ–Ω–∞</button>
        </div>
      </form>
    </div>
  </div>

  <input type="file" id="prayer-file-input" accept="image/*" hidden>

  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database-compat.js"></script>
  <script src="firebase-config.js"></script>
  <script src="app.js"></script>
</body>
</html>
